webpackJsonp([1],{"7zck":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("widgeFooter")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},s,!1,function(e){a("vElq")},null,null).exports,i=a("/ocq"),o=a("3EgV"),l=a.n(o),c=(a("7zck"),a("gJtD"),a("18Sv")),d=a.n(c),u=a("sUu7"),v=a("KS/y"),p=a.n(v),m=a("mtWM"),f=a.n(m).a.create({baseURL:"http://localhost:8000/api"}),h={name:"Login",data:function(){return{loginData:{username:"",password:""},alert:!1}},methods:{callLoginService:function(){var e=this;if(this.isFormValid()){var t=new URLSearchParams;t.append("username",this.loginData.username),t.append("password",this.loginData.password),f.post("/login",t).then(function(t){t.data?(e.$session.set("username",e.loginData.username),e.$session.set("basicAuthHeader",t.data),e.$router.replace("/main")):e.alert=!0}).catch(function(e){console.log(e)})}},isFormValid:function(){return this.$validator.validateAll(),this.fields.username.valid&&this.fields.password.valid}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-alert",{attrs:{type:"error",transition:"scale-transition",dismissible:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v("Incorret username or password.")]),e._v(" "),a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login")])],1),e._v(" "),a("v-card-text",[a("v-form",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"person",name:"username",label:"Login",type:"text","error-messages":e.errors.collect("username"),"data-vv-name":"username",required:""},model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}}),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password","error-messages":e.errors.collect("password"),"data-vv-name":"password",required:""},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.callLoginService()}}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},_=a("VU/8")(h,g,!1,null,null,null).exports,w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"main"}},[t("router-view"),this._v(" "),t("v-toolbar",{attrs:{color:"grey",dark:"",fixed:"",app:""}},[t("v-toolbar-title",[this._v("My Posts")]),this._v(" "),t("v-spacer")],1)],1)},staticRenderFns:[]},x=a("VU/8")({name:"MainWidget",data:function(){return{drawer:!1,roles:[],selectedItem:"Home"}}},w,!1,null,null,null).exports,b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{attrs:{color:"grey",app:""}},[t("v-spacer"),this._v(" "),t("span",{staticClass:"white--text"},[this._v("Â© 2019")])],1)},staticRenderFns:[]},$=a("VU/8")({name:"Footer"},b,!1,null,null,null).exports,y={name:"AddMaterial",data:function(){return{form:{post:"",private:!1},username:"",posts:[]}},mounted:function(){f.defaults.headers.common.Authorization=this.$session.get("basicAuthHeader"),this.username=this.$session.get("username"),this.loadUserPosts()},methods:{save:function(){this.isFormValid()&&this.doSave()},doSave:function(){var e=this,t=new URLSearchParams;t.append("username",this.username),t.append("post",this.form.post),t.append("isPrivate",this.form.private),f.post("/posts/save",t).then(function(t){return e.loadUserPosts()}).catch(function(e){return console.log(e.message)}),this.reset()},loadUserPosts:function(){var e=this;f.get("/posts/getUserPosts",{params:{username:this.username}}).then(function(e){return e.data}).then(function(t){return e.posts=t}).catch(function(e){return console.log(e.message)})},reset:function(){this.$refs.form.reset(),this.$validator.reset()},isFormValid:function(){return this.$validator.validateAll(),this.fields.description.valid}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"2% 3% 5% 5%"},attrs:{id:"addMaterial"}},[a("v-flex",{attrs:{xs12:"",sm6:"",md7:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("v-form",{ref:"form"},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"text_fields",name:"description",placeholder:"What's on your mind?",id:"description","error-messages":e.errors.collect("description"),"data-vv-name":"description",required:""},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Private"},model:{value:e.form.private,callback:function(t){e.$set(e.form,"private",t)},expression:"form.private"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save()}}},[e._v("POST")])],1)],1),e._v(" "),e._l(e.posts,function(t){return a("v-flex",{key:t.id,staticStyle:{padding:"2% 0%"}},[a("v-card",{staticClass:"mx-auto",attrs:{light:"","max-width":"500"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-bold"},[e._v(e._s(t.user.userName))])]),e._v(" "),a("v-card-text",{staticClass:"headline font-weight-bold"},[e._v(e._s(t.content))]),e._v(" "),a("v-card-actions",[a("v-list-tile",{staticClass:"grow"},[a("v-list-tile-content",[t.private?e._e():a("v-list-tile-title",[e._v("Public")]),e._v(" "),t.private?a("v-list-tile-title",[e._v("Private")]):e._e()],1)],1)],1)],1)],1)})],2)],1)},staticRenderFns:[]},P=a("VU/8")(y,k,!1,null,null,null).exports;r.default.component("widgeFooter",$),r.default.use(d.a),r.default.use(u.a),r.default.use(i.a),r.default.use(l.a),r.default.use(l.a,{iconfont:"md"}),r.default.use(p.a),r.default.component("upload-btn",p.a);var U=new i.a({base:"/histoworld/",routes:[{path:"/",name:"Login",component:_},{path:"/main",name:"MainWidget",component:x,children:[{path:"",component:P}]}]});r.default.config.productionTip=!1,new r.default({el:"#app",router:U,components:{App:n},template:"<App/>"})},gJtD:function(e,t){},vElq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d44e7c1a3406d84497f0.js.map